{% extends 'base.html.twig' %} {# Bloc principal du contenu de la page #} {%
block body %} {# Titre de la page listant toutes les spécialités #}
<h1>Spécialités</h1>

{# Lien vers la page de création d'une nouvelle spécialité #}
<a href="{{ path('specialite_new') }}">Créer</a>

<ul>
    {# Parcourt toutes les spécialités transmises par le contrôleur #} {% for s
    in specialites %}
    <li>
        {# Intitulé de la spécialité avec lien vers la page détail #}
        <strong>
            <a href="{{ path('specialite_show', { id: s.id }) }}">
                {{ s.intitule }}
            </a>
        </strong>
        <br />

        {# Lien vers la page de modification de la spécialité #}
        <a href="{{ path('specialite_edit', { id: s.id }) }}">Modifier</a>
        | {# Formulaire de suppression sécurisé par token CSRF #}
        <form
            method="post"
            action="{{ path('specialite_delete', { id: s.id }) }}"
            style="display: inline"
        >
            {# Token CSRF pour sécuriser la suppression #}
            <input
                type="hidden"
                name="_token"
                value="{{ csrf_token('delete' ~ s.id) }}"
            />

            <button type="submit">Supprimer</button>
        </form>
    </li>

    {# Bloc exécuté si aucune spécialité n'existe #} {% else %}
    <li>Aucune spécialité.</li>
    {% endfor %}
</ul>

{% endblock %}
