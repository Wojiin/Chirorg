{% extends 'base.html.twig' %}

{% block title %}{{ liste.intitule }}{% endblock %}

{% block body %}

<h1>{{ liste.intitule }}</h1>

{# Partial pour les actions modifier/supprimer de la liste #}
{% include '_partials/_show_actions.html.twig' with {
    entity: liste,
    edit_route: 'liste_materiel_edit',
    delete_route: 'liste_materiel_delete'
} %}

{# Affichage du chirurgien associé #}
<p>
    <strong>Chirurgien :</strong>
    {{ liste.chirurgien.prenom }} {{ liste.chirurgien.nom }}
</p>

{# Section des matériels #}
<h2>Matériels</h2>

{% if liste.materiels|length > 0 %}
    <ul>
        {% for m in liste.materiels %}
            <li>
                {# Lien vers le show du matériel #}
                <a href="{{ path('materiel_show', { id: m.id }) }}">
                    <strong>{{ m.intitule }}</strong>
                </a>
                — {{ m.type }} — {{ m.adresse }}
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>Aucun matériel dans cette liste.</p>
{% endif %}

{# Lien de retour vers l'index des listes de matériel #}
<a href="{{ path('liste_materiel_index') }}">⬅ Retour</a>

{% endblock %}
